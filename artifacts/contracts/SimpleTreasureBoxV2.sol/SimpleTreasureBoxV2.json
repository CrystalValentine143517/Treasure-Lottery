{
  "_format": "hh-sol-artifact-1",
  "contractName": "SimpleTreasureBoxV2",
  "sourceName": "contracts/SimpleTreasureBoxV2.sol",
  "abi": [
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "remainingTime",
          "type": "uint256"
        }
      ],
      "name": "CooldownActive",
      "type": "error"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "address",
          "name": "player",
          "type": "address"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "openId",
          "type": "uint256"
        }
      ],
      "name": "BoxOpened",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "address",
          "name": "player",
          "type": "address"
        },
        {
          "indexed": false,
          "internalType": "uint64",
          "name": "reward",
          "type": "uint64"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "openId",
          "type": "uint256"
        }
      ],
      "name": "RewardRevealed",
      "type": "event"
    },
    {
      "inputs": [],
      "name": "COOLDOWN_TIME",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "MAX_REWARD",
      "outputs": [
        {
          "internalType": "uint32",
          "name": "",
          "type": "uint32"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "MIN_REWARD",
      "outputs": [
        {
          "internalType": "uint32",
          "name": "",
          "type": "uint32"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "name": "allPlayers",
      "outputs": [
        {
          "internalType": "address",
          "name": "",
          "type": "address"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "player",
          "type": "address"
        }
      ],
      "name": "canOpenBox",
      "outputs": [
        {
          "internalType": "bool",
          "name": "",
          "type": "bool"
        },
        {
          "internalType": "uint256",
          "name": "cooldownRemaining",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "getGlobalStats",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "totalPlayers",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "totalBoxes",
          "type": "uint256"
        },
        {
          "internalType": "uint64",
          "name": "totalRewards",
          "type": "uint64"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "player",
          "type": "address"
        }
      ],
      "name": "getPlayerStats",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "boxesOpened",
          "type": "uint256"
        },
        {
          "internalType": "uint64",
          "name": "totalRewards",
          "type": "uint64"
        },
        {
          "internalType": "uint64",
          "name": "lastReward",
          "type": "uint64"
        },
        {
          "internalType": "uint256",
          "name": "lastOpenTime",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "cooldownRemaining",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "count",
          "type": "uint256"
        }
      ],
      "name": "getTopPlayers",
      "outputs": [
        {
          "internalType": "address[]",
          "name": "topAddresses",
          "type": "address[]"
        },
        {
          "internalType": "uint64[]",
          "name": "topRewards",
          "type": "uint64[]"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "openBox",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "",
          "type": "address"
        }
      ],
      "name": "players",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "totalBoxesOpened",
          "type": "uint256"
        },
        {
          "internalType": "uint64",
          "name": "totalRewards",
          "type": "uint64"
        },
        {
          "internalType": "uint64",
          "name": "lastReward",
          "type": "uint64"
        },
        {
          "internalType": "uint256",
          "name": "lastOpenTime",
          "type": "uint256"
        },
        {
          "internalType": "bool",
          "name": "isInitialized",
          "type": "bool"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "totalBoxesOpened",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "totalRewardsDistributed",
      "outputs": [
        {
          "internalType": "uint64",
          "name": "",
          "type": "uint64"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    }
  ],
  "bytecode": "0x608060405234801561000f575f80fd5b50610d2b8061001d5f395ff3fe608060405234801561000f575f80fd5b50600436106100b1575f3560e01c80636b4169c31161006e5780636b4169c3146101925780637d263245146101bf578063ba3c0067146101c7578063c2e952c7146101e8578063e2eb41ff146101f0578063ee17254614610271575f80fd5b80630544ce5e146100b55780630e1505e0146100e557806348ea0c03146101025780634fd66eae1461010a5780634ffa7d9f1461015157806352f070d114610168575b5f80fd5b6100c86100c3366004610b26565b61029c565b6040516001600160a01b0390911681526020015b60405180910390f35b6100ed606481565b60405163ffffffff90911681526020016100dc565b6100ed600181565b61011d610118366004610b3d565b6102c4565b604080519586526001600160401b03948516602087015292909316918401919091526060830152608082015260a0016100dc565b61015a60025481565b6040519081526020016100dc565b61017b610176366004610b3d565b61034d565b6040805192151583526020830191909152016100dc565b6001546002546003546040805193845260208401929092526001600160401b0316908201526060016100dc565b61015a603c81565b6101da6101d5366004610b26565b6103bd565b6040516100dc929190610b6a565b61015a610855565b61023b6101fe366004610b3d565b5f60208190529081526040902080546001820154600283015460039093015491926001600160401b0380831693600160401b909304169160ff1685565b604080519586526001600160401b039485166020870152929093169184019190915260608301521515608082015260a0016100dc565b600354610284906001600160401b031681565b6040516001600160401b0390911681526020016100dc565b600181815481106102ab575f80fd5b5f918252602090912001546001600160a01b0316905081565b6001600160a01b0381165f9081526020819052604081206002810154829182918291829182901561031b575f8260020154426103009190610c09565b9050603c8110156103195761031681603c610c09565b91505b505b8154600183015460029093015490996001600160401b038085169a50600160401b909404909316975095509350915050565b6001600160a01b0381165f9081526020819052604081206002810154829190820361037e57506001935f9350915050565b5f81600201544261038f9190610c09565b9050603c81106103a657506001945f945092505050565b5f6103b282603c610c09565b935093505050915091565b6001546060908190808411156103d1578093505b835f036103f7575050604080515f80825260208201908152818301909252939092509050565b5f816001600160401b0381111561041057610410610c22565b604051908082528060200260200182016040528015610439578160200160208202803683370190505b5090505f826001600160401b0381111561045557610455610c22565b60405190808252806020026020018201604052801561047e578160200160208202803683370190505b5090505f5b83811015610567576001818154811061049e5761049e610c36565b905f5260205f20015f9054906101000a90046001600160a01b03168382815181106104cb576104cb610c36565b60200260200101906001600160a01b031690816001600160a01b0316815250505f806001838154811061050057610500610c36565b5f9182526020808320909101546001600160a01b0316835282019290925260400190206001015482516001600160401b039091169083908390811061054757610547610c36565b6001600160401b0390921660209283029190910190910152600101610483565b505f5b83811015610721575f61057e826001610c4a565b90505b848110156107185782828151811061059b5761059b610c36565b60200260200101516001600160401b03168382815181106105be576105be610c36565b60200260200101516001600160401b03161115610710575f8383815181106105e8576105e8610c36565b6020026020010151905083828151811061060457610604610c36565b602002602001015184848151811061061e5761061e610c36565b60200260200101906001600160401b031690816001600160401b0316815250508084838151811061065157610651610c36565b60200260200101906001600160401b031690816001600160401b0316815250505f85848151811061068457610684610c36565b602002602001015190508583815181106106a0576106a0610c36565b60200260200101518685815181106106ba576106ba610c36565b60200260200101906001600160a01b031690816001600160a01b031681525050808684815181106106ed576106ed610c36565b60200260200101906001600160a01b031690816001600160a01b03168152505050505b600101610581565b5060010161056a565b50856001600160401b0381111561073a5761073a610c22565b604051908082528060200260200182016040528015610763578160200160208202803683370190505b509450856001600160401b0381111561077e5761077e610c22565b6040519080825280602002602001820160405280156107a7578160200160208202803683370190505b5093505f5b8681101561084c578281815181106107c6576107c6610c36565b60200260200101518682815181106107e0576107e0610c36565b60200260200101906001600160a01b031690816001600160a01b03168152505081818151811061081257610812610c36565b602002602001015185828151811061082c5761082c610c36565b6001600160401b03909216602092830291909101909101526001016107ac565b50505050915091565b335f9081526020819052604081206002810154156108bb575f81600201544261087e9190610c09565b9050603c8110156108b95761089481603c610c09565b60405163c1ab61a160e01b81526004016108b091815260200190565b60405180910390fd5b505b600381015460ff16610916576001805480820182555f8290527fb10e2d527612073b26eecdfd717e6a320cf44b4afac2b0732d9fcbe2b7fa0cf60180546001600160a01b0319163317905560038201805460ff191690911790555b5f42443360045f81548092919061092c90610c5d565b909155506040805160208101959095528401929092526bffffffffffffffffffffffff19606091821b1690830152607482015260940160408051601f19818403018152919052805160209091012090505f600161098a816064610c75565b610995906001610c99565b6109a59063ffffffff1684610cb6565b6109af9190610c4a565b8354909150835f6109bf83610c5d565b90915550506001830180548291905f906109e39084906001600160401b0316610cd5565b92506101000a8154816001600160401b0302191690836001600160401b03160217905550808360010160086101000a8154816001600160401b0302191690836001600160401b0316021790555042836002018190555060025f815480929190610a4b90610c5d565b9091555050600380548291905f90610a6d9084906001600160401b0316610cd5565b92506101000a8154816001600160401b0302191690836001600160401b031602179055505f6002549050336001600160a01b03167fb73d415d4554d9bc64f3fadea1d75caaeb0f4db5b74538b5e5dcbce2660e624082604051610ad291815260200190565b60405180910390a2604080516001600160401b03841681526020810183905233917fb632fd4c363c3902d29b9c46cb62fe17abc1d6330ca7e88683ebf7608c54784d910160405180910390a2949350505050565b5f60208284031215610b36575f80fd5b5035919050565b5f60208284031215610b4d575f80fd5b81356001600160a01b0381168114610b63575f80fd5b9392505050565b604080825283519082018190525f906020906060840190828701845b82811015610bab5781516001600160a01b031684529284019290840190600101610b86565b505050838103828501528451808252858301918301905f5b81811015610be85783516001600160401b031683529284019291840191600101610bc3565b5090979650505050505050565b634e487b7160e01b5f52601160045260245ffd5b81810381811115610c1c57610c1c610bf5565b92915050565b634e487b7160e01b5f52604160045260245ffd5b634e487b7160e01b5f52603260045260245ffd5b80820180821115610c1c57610c1c610bf5565b5f60018201610c6e57610c6e610bf5565b5060010190565b63ffffffff828116828216039080821115610c9257610c92610bf5565b5092915050565b63ffffffff818116838216019080821115610c9257610c92610bf5565b5f82610cd057634e487b7160e01b5f52601260045260245ffd5b500690565b6001600160401b03818116838216019080821115610c9257610c92610bf556fea2646970667358221220a3bbb029979ac766aa2c54267d1c14322f7614a4de0625eba4e3b838cc8c956d64736f6c63430008180033",
  "deployedBytecode": "0x608060405234801561000f575f80fd5b50600436106100b1575f3560e01c80636b4169c31161006e5780636b4169c3146101925780637d263245146101bf578063ba3c0067146101c7578063c2e952c7146101e8578063e2eb41ff146101f0578063ee17254614610271575f80fd5b80630544ce5e146100b55780630e1505e0146100e557806348ea0c03146101025780634fd66eae1461010a5780634ffa7d9f1461015157806352f070d114610168575b5f80fd5b6100c86100c3366004610b26565b61029c565b6040516001600160a01b0390911681526020015b60405180910390f35b6100ed606481565b60405163ffffffff90911681526020016100dc565b6100ed600181565b61011d610118366004610b3d565b6102c4565b604080519586526001600160401b03948516602087015292909316918401919091526060830152608082015260a0016100dc565b61015a60025481565b6040519081526020016100dc565b61017b610176366004610b3d565b61034d565b6040805192151583526020830191909152016100dc565b6001546002546003546040805193845260208401929092526001600160401b0316908201526060016100dc565b61015a603c81565b6101da6101d5366004610b26565b6103bd565b6040516100dc929190610b6a565b61015a610855565b61023b6101fe366004610b3d565b5f60208190529081526040902080546001820154600283015460039093015491926001600160401b0380831693600160401b909304169160ff1685565b604080519586526001600160401b039485166020870152929093169184019190915260608301521515608082015260a0016100dc565b600354610284906001600160401b031681565b6040516001600160401b0390911681526020016100dc565b600181815481106102ab575f80fd5b5f918252602090912001546001600160a01b0316905081565b6001600160a01b0381165f9081526020819052604081206002810154829182918291829182901561031b575f8260020154426103009190610c09565b9050603c8110156103195761031681603c610c09565b91505b505b8154600183015460029093015490996001600160401b038085169a50600160401b909404909316975095509350915050565b6001600160a01b0381165f9081526020819052604081206002810154829190820361037e57506001935f9350915050565b5f81600201544261038f9190610c09565b9050603c81106103a657506001945f945092505050565b5f6103b282603c610c09565b935093505050915091565b6001546060908190808411156103d1578093505b835f036103f7575050604080515f80825260208201908152818301909252939092509050565b5f816001600160401b0381111561041057610410610c22565b604051908082528060200260200182016040528015610439578160200160208202803683370190505b5090505f826001600160401b0381111561045557610455610c22565b60405190808252806020026020018201604052801561047e578160200160208202803683370190505b5090505f5b83811015610567576001818154811061049e5761049e610c36565b905f5260205f20015f9054906101000a90046001600160a01b03168382815181106104cb576104cb610c36565b60200260200101906001600160a01b031690816001600160a01b0316815250505f806001838154811061050057610500610c36565b5f9182526020808320909101546001600160a01b0316835282019290925260400190206001015482516001600160401b039091169083908390811061054757610547610c36565b6001600160401b0390921660209283029190910190910152600101610483565b505f5b83811015610721575f61057e826001610c4a565b90505b848110156107185782828151811061059b5761059b610c36565b60200260200101516001600160401b03168382815181106105be576105be610c36565b60200260200101516001600160401b03161115610710575f8383815181106105e8576105e8610c36565b6020026020010151905083828151811061060457610604610c36565b602002602001015184848151811061061e5761061e610c36565b60200260200101906001600160401b031690816001600160401b0316815250508084838151811061065157610651610c36565b60200260200101906001600160401b031690816001600160401b0316815250505f85848151811061068457610684610c36565b602002602001015190508583815181106106a0576106a0610c36565b60200260200101518685815181106106ba576106ba610c36565b60200260200101906001600160a01b031690816001600160a01b031681525050808684815181106106ed576106ed610c36565b60200260200101906001600160a01b031690816001600160a01b03168152505050505b600101610581565b5060010161056a565b50856001600160401b0381111561073a5761073a610c22565b604051908082528060200260200182016040528015610763578160200160208202803683370190505b509450856001600160401b0381111561077e5761077e610c22565b6040519080825280602002602001820160405280156107a7578160200160208202803683370190505b5093505f5b8681101561084c578281815181106107c6576107c6610c36565b60200260200101518682815181106107e0576107e0610c36565b60200260200101906001600160a01b031690816001600160a01b03168152505081818151811061081257610812610c36565b602002602001015185828151811061082c5761082c610c36565b6001600160401b03909216602092830291909101909101526001016107ac565b50505050915091565b335f9081526020819052604081206002810154156108bb575f81600201544261087e9190610c09565b9050603c8110156108b95761089481603c610c09565b60405163c1ab61a160e01b81526004016108b091815260200190565b60405180910390fd5b505b600381015460ff16610916576001805480820182555f8290527fb10e2d527612073b26eecdfd717e6a320cf44b4afac2b0732d9fcbe2b7fa0cf60180546001600160a01b0319163317905560038201805460ff191690911790555b5f42443360045f81548092919061092c90610c5d565b909155506040805160208101959095528401929092526bffffffffffffffffffffffff19606091821b1690830152607482015260940160408051601f19818403018152919052805160209091012090505f600161098a816064610c75565b610995906001610c99565b6109a59063ffffffff1684610cb6565b6109af9190610c4a565b8354909150835f6109bf83610c5d565b90915550506001830180548291905f906109e39084906001600160401b0316610cd5565b92506101000a8154816001600160401b0302191690836001600160401b03160217905550808360010160086101000a8154816001600160401b0302191690836001600160401b0316021790555042836002018190555060025f815480929190610a4b90610c5d565b9091555050600380548291905f90610a6d9084906001600160401b0316610cd5565b92506101000a8154816001600160401b0302191690836001600160401b031602179055505f6002549050336001600160a01b03167fb73d415d4554d9bc64f3fadea1d75caaeb0f4db5b74538b5e5dcbce2660e624082604051610ad291815260200190565b60405180910390a2604080516001600160401b03841681526020810183905233917fb632fd4c363c3902d29b9c46cb62fe17abc1d6330ca7e88683ebf7608c54784d910160405180910390a2949350505050565b5f60208284031215610b36575f80fd5b5035919050565b5f60208284031215610b4d575f80fd5b81356001600160a01b0381168114610b63575f80fd5b9392505050565b604080825283519082018190525f906020906060840190828701845b82811015610bab5781516001600160a01b031684529284019290840190600101610b86565b505050838103828501528451808252858301918301905f5b81811015610be85783516001600160401b031683529284019291840191600101610bc3565b5090979650505050505050565b634e487b7160e01b5f52601160045260245ffd5b81810381811115610c1c57610c1c610bf5565b92915050565b634e487b7160e01b5f52604160045260245ffd5b634e487b7160e01b5f52603260045260245ffd5b80820180821115610c1c57610c1c610bf5565b5f60018201610c6e57610c6e610bf5565b5060010190565b63ffffffff828116828216039080821115610c9257610c92610bf5565b5092915050565b63ffffffff818116838216019080821115610c9257610c92610bf5565b5f82610cd057634e487b7160e01b5f52601260045260245ffd5b500690565b6001600160401b03818116838216019080821115610c9257610c92610bf556fea2646970667358221220a3bbb029979ac766aa2c54267d1c14322f7614a4de0625eba4e3b838cc8c956d64736f6c63430008180033",
  "linkReferences": {},
  "deployedLinkReferences": {}
}
